"use strict";(()=>{var S=Object.defineProperty,C=(o,e,t)=>e in o?S(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t,E=(o,e,t)=>(C(o,typeof e!="symbol"?e+"":e,t),t),v=String(Math.random()).slice(2);async function k(){return new Promise(o=>{window.requestAnimationFrame(o)})}function g(o,e){for(let t in e)o.style.setProperty(t,e[t])}var M=class b{constructor(e,t){if(E(this,"_destroy_tasks",[]),E(this,"document"),E(this,"options"),!(e instanceof HTMLElement))throw new TypeError("Argument 1 must be instanceof HTMLElement");this.target=e,this.document=this.target.ownerDocument,this.options={trigger:e,...b.defaultOptions,...t},this.wrapper=this.document.createElement("span"),g(this.wrapper,{display:"block",position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px","border-radius":this.options.rounded?"50%":"inherit",color:this.options.color||"currentColor",overflow:this.options.unbounded?"visible":"hidden","pointer-events":"none"}),this.target.prepend(this.wrapper);let f={display:"block",position:"absolute",top:"0px",right:"0px",bottom:"0px",left:"0px","background-color":"currentColor",opacity:"0",transition:`opacity ${this.options.duration/2}ms ${this.options.easing} 0ms`};this.focusedLayer=this.document.createElement("span"),g(this.focusedLayer,f),this.wrapper.prepend(this.focusedLayer),this.hoveredLayer=this.document.createElement("span"),g(this.hoveredLayer,f),this.wrapper.prepend(this.hoveredLayer);let m=getComputedStyle(this.target).getPropertyValue("position");m!="relative"&&m!="absolute"&&(this.target.style.position="relative");let y=i=>{if(i.key!=" ")return;let a=!0,l,p,c=this.wrapper.getBoundingClientRect();if(l=c.width/2,p=c.height/2,this.options.autoexit){let n;this.trigger(l,p,d=>{n=d,!a&&n()}),window.addEventListener("keyup",()=>{a=!1,n&&n()},{once:!0})}else this.trigger(l,p)},r=i=>{let a=i instanceof MouseEvent;if(a&&T)return;let l=!0,p,c,n=this.wrapper.getBoundingClientRect();if(this.options.centered?(p=n.width/2,c=n.height/2):a?(p=i.x-n.x,c=i.y-n.y):(p=i.targetTouches[0].clientX-n.x,c=i.targetTouches[0].clientY-n.y),this.options.autoexit){let d;this.trigger(p,c,O=>{d=O,!l&&d()}),window.addEventListener("mouseup",()=>{!T&&(l=!1,d&&d())},{once:!0}),window.addEventListener("touchend",()=>{l=!1,d&&d()},{once:!0})}else this.trigger(p,c)},u=i=>{let a=i.type=="mouseenter";this.hoveredLayer.style.opacity=String(a?this.options.hoveredOpacity:0)},w=i=>{let a=i.type=="focus";this.focusedLayer.style.opacity=String(a?this.options.focusedOpacity:0)},s=this.options.trigger??this.target;this.options.keydown&&s.addEventListener("keydown",y),s.addEventListener("mousedown",r),s.addEventListener("touchstart",r),s.addEventListener("mouseenter",u),s.addEventListener("mouseleave",u),s.addEventListener("focus",w),s.addEventListener("blur",w),this._destroy_tasks.push(()=>{this.options.keydown&&s.removeEventListener("keydown",y),s.removeEventListener("mousedown",r),s.removeEventListener("touchstart",r),s.removeEventListener("mouseenter",u),s.removeEventListener("mouseleave",u),s.removeEventListener("focus",w),s.removeEventListener("blur",w)}),this._destroy_tasks.push(()=>{this.wrapper.remove()})}async trigger(e,t,f){if(Number.isNaN(e))throw new TypeError("Argument 1 must be a valid number");if(Number.isNaN(t))throw new TypeError("Argument 2 must be a valid number");let m=this.wrapper.getBoundingClientRect(),y=Math.hypot(Math.max(e,m.width-e),Math.max(t,m.height-t))*2,r=this.document.createElement("span");g(r,{display:"block","background-color":"currentColor",position:"absolute",left:e+"px",top:t+"px",width:y+"px",height:y+"px","border-radius":"50%",opacity:"0",transform:"translate(-50%, -50%) scale(0)",transition:`transform ${this.options.duration}ms ${this.options.easing} 0ms, opacity 0ms linear 0ms`});let u=()=>{r.style.transitionDuration=`${this.options.duration}ms, ${this.options.duration/2}ms`,r.style.opacity="0",setTimeout(()=>{r.remove()},this.options.duration)};await k(),this.wrapper.append(r),await k(),r.style.opacity=this.options.pressedOpacity+"",r.style.transform="translate(-50%, -50%) scale(1)",window.setTimeout(()=>{typeof f=="function"?f(u):u()},this.options.duration+this.options.exitdelay)}destroy(){this._destroy_tasks.forEach(e=>e.call(this)),delete this.target[`__${v}_RippleEffect`]}static attachTo(e,t){return e[`__${v}_RippleEffect`]instanceof b?e[`__${v}_RippleEffect`]:e[`__${v}_RippleEffect`]=new b(e,t)}};E(M,"defaultOptions",{color:"currentColor",duration:400,unbounded:!1,autoexit:!0,exitdelay:0,centered:!1,rounded:!1,easing:"ease-in",keydown:!0,hoveredOpacity:.08,focusedOpacity:.08,pressedOpacity:.12});var _=M,T=!1;typeof window=="object"&&(Object.defineProperty(window,"RippleEffect",{value:_,configurable:!0,enumerable:!1,writable:!0}),window.addEventListener("touchstart",()=>{T=!0},{once:!0}));var h=class{constructor(e){this.host=e;this.destroyTasks=new Set}addDestroyTasks(e){this.destroyTasks.add(e)}destroy(){this.destroyTasks.forEach(e=>e()),this.destroyTasks.clear()}};var x=class extends h{constructor(e){super(e);let t=_.attachTo(e,{duration:250,exitdelay:150,hoveredOpacity:.12,focusedOpacity:0,pressedOpacity:.12,keydown:!1});this.addDestroyTasks(()=>t.destroy())}};var L=class extends h{constructor(t){super(t);this.input=this.host.querySelector("input")}};document.querySelectorAll(".flexy-button").forEach(o=>{o instanceof HTMLElement&&new x(o)});document.querySelectorAll(".flexy-switch").forEach(o=>{o instanceof HTMLElement&&new L(o)});})();
//# sourceMappingURL=main.js.map
