{{- with resources.Get "styles/navbar.css" }}
  <style>{{ .Content | safeCSS }}</style>
{{- end }}


<div class="navbar">
  <div>
    <a class="flexy-button flexy-button--icon" href="{{ relURL "" }}">
      <span class="material-symbol">
        {{- partial "material-symbol.html" "home/rounded/400" }}
      </span>
    </a>
    <span class="flexy-tooltip">
      <div class="flexy-tooltip__content">Go back to Home</div>
    </span>
    <button class="flexy-button" id="menu-button">
      <span>Components</span>
    </button>
    <span class="flexy-tooltip">
      <div class="flexy-tooltip__content">See components list</div>
    </span>
  </div>
  <div style="gap: 12px;">
    <button class="flexy-button flexy-button--icon" id="theme-toggle">
      <span class="material-symbol">
        {{- partial "material-symbol.html" "dark_mode/rounded/400" }}
        {{- partial "material-symbol.html" "light_mode/rounded/400" }}
      </span>
    </button>
    <span class="flexy-tooltip"></span>
    <a
      href="{{ .Site.Params.repository }}"
      target="_blank"
      class="flexy-button flexy-button--icon"
    >
      <span class="simple-icon icon-24">
        {{- partial "simple-icon.html" "github" }}
      </span>
    </a>
    <span class="flexy-tooltip">
      <span class="flexy-tooltip__content">Source code</span>
    </span>
  </div>
</div>

<script>
  void (function () {
    const isDark = sessionStorage.getItem('theme') == 'dark';
    const themeToggle = document.getElementById('theme-toggle');
    themeToggle.ariaLabel =
      'Switch to ' + (isDark ? 'light' : 'dark') + ' mode';
    themeToggle.nextElementSibling.innerHTML = `<span class="flexy-tooltip__content">${themeToggle.ariaLabel}</span>`;

    themeToggle.addEventListener('click', function () {
      const isDark = !document.documentElement.classList.contains('dark');
      document.documentElement.classList.toggle('dark', isDark);
      document.documentElement.classList.toggle('light', !isDark);
      sessionStorage.setItem('theme', isDark ? 'dark' : 'light');
      themeToggle.ariaLabel =
        'Switch to ' + (isDark ? 'light' : 'dark') + ' mode';
      themeToggle.nextElementSibling.innerHTML = `<span class="flexy-tooltip__content">${themeToggle.ariaLabel}</span>`;
    });
  })();
</script>
